# Web认证跟踪技术
HTTP是一种无状态协议，每次建立新的连接时，不包含以前的信息。因此，服务器无法从连接上记录信息。
## session和cookie
session保存在服务器上，记录客户端的信息。服务端会分配一个唯一的sessionId，客户端请求时携带该字段，服务端查找对应信息。

cookie存在在客户端本地，可以记录用户状态、网页设置等等。可能被窃取、篡改，安全性不如session。

## JWT技术
JWT是session的改进，通过token进行认证
### 结构
JWT分为三个部分，通过"."拼接
- header：存放签名算法等信息，base64URL处理
- payload：存放实际需要传输的数据，base64URL处理
- signature：签名

其中header和payload默认不加密，因此不要放重要信息

### 认证方法
签名的生成方法：

`
HMAC( Base64(header)+Base64(payload), secret )
`

secret是服务端的私钥。服务端会生成JWT返回给客户端，客户端后续请求带上该token，服务端进行签名校验

### 安全措施
由于JWT模式下，服务器不保存会话状态，因此在token签发期间一直有效。期间JWT如果泄漏，导致获取token的人可以拿到用户信息。有以下两个方法：
- 尽量缩短有效期
- 通过HTTPS方式进行加密传输

此外，可以发放长期token，定期通过该token刷新得到新的JWT会话token

# 秒杀场景设计

# 设计模式
## 单例模式
适用场景：数据库/网络连接等只需要一个实例，全局日志记录器、配置管理器等等

确保一个类只有一个实例，提供全局访问点。

## 工厂模式
适用场景：隐藏对象创建细节，将创建过程和具体实现解耦，有助于系统扩展

- 简单工厂：是使用一个类来实例化对象，根据传入的参数决定返回哪个类
- 工厂方法：定义工厂接口，对于类A，可以用对应的工厂类AFactory（实现工厂接口）返回A实例
- 抽象工厂：产品类可能有多维结构，抽象工厂类中声明一组创建所有抽象产品的方法。产品工厂类创建*产品接口*；产品类实现*产品接口*

![alt text](https://img2022.cnblogs.com/blog/1707576/202203/1707576-20220324190756963-1279534824.png)

## 建造者模式
创建类的设计模式，用灵活的方式创建复杂对象，适用于有很多构造参数的类。使用一个类`build()`方法，然后通过链式调用等方式设置对象参数，生成最终对象。

# TLS握手
## ~1.2握手过程

## 1.3握手过程

# 多线程
## 并发和并行

## 不同语言特性